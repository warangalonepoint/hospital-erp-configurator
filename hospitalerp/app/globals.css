@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base dark mode */
:root {
  --bg: #0b0b10;
  --card: #14141d;
  --line: #1f1f29;
  --mut: #a1a1aa;
  --prim: #0ea5e9;
}

body {
  @apply bg-[color:var(--bg)] text-neutral-50;
  font-family: system-ui, Segoe UI, Roboto, sans-serif;
}

/* Links */
a {
  @apply text-sky-400 hover:underline;
}

/* Form dark theme (for Configurator in shell iframe) */
.form-dark input,
.form-dark select,
.form-dark textarea {
  color: #fafafa;
  background-color: #0f0f16;
  border: 1px solid #2a2a36;
  border-radius: 0.5rem;
}

.form-dark input:focus,
.form-dark select:focus,
.form-dark textarea:focus {
  outline: none;
  border-color: var(--prim);
  box-shadow: 0 0 0 1px var(--prim);
}

.form-dark button {
  color: #fafafa;
}

.form-dark ::placeholder {
  color: #a1a1aa;
  opacity: 1;
}

/* Autofill fix (Chrome) */
.form-dark input:-webkit-autofill {
  -webkit-text-fill-color: #fafafa !important;
  -webkit-box-shadow: 0 0 0 1000px #0f0f16 inset !important;
}

/* Tables */
table {
  @apply w-full border-collapse bg-[color:var(--card)] rounded-xl overflow-hidden;
}
th,
td {
  @apply px-3 py-2 border-b border-[color:var(--line)] text-sm text-left;
}
tr:last-child td {
  border-bottom: none;
}
/* === iOS-style switch (works in dark) === */
.switch {
  --h: 22px; --w: 42px; --pad: 3px; --on: var(--prim); --off: #3a3a45;
  position: relative; display: inline-flex; width: var(--w); height: var(--h);
  align-items: center; border-radius: calc(var(--h) / 2);
  background: var(--off); transition: background .2s ease; cursor: pointer;
  box-shadow: inset 0 0 0 1px #2a2a36;
}
.switch input { position: absolute; inset: 0; opacity: 0; cursor: pointer; }
.switch .knob {
  position: absolute; left: var(--pad); top: var(--pad);
  width: calc(var(--h) - var(--pad) * 2); height: calc(var(--h) - var(--pad) * 2);
  background: #fff; border-radius: 999px; transition: transform .2s ease, box-shadow .2s ease;
  box-shadow: 0 1px 2px rgba(0,0,0,.5);
}
.switch:has(input:checked) { background: var(--on); box-shadow: inset 0 0 0 1px rgba(255,255,255,.06); }
.switch:has(input:checked) .knob { transform: translateX(calc(var(--w) - var(--h))); }
.switch:has(input:focus-visible) { outline: 2px solid var(--prim); outline-offset: 3px; }
.switch.disabled { opacity: .5; cursor: not-allowed; }
.switch + .switch-label { margin-left: .5rem; user-select: none; }
