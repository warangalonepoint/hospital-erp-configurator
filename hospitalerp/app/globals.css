@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Theme tokens (dark+light) ---------- */
:root.theme-dark {
  --bg: #0b0b10;
  --card: #14141d;
  --line: #1f1f29;
  --mut: #a1a1aa;
  --prim: #0ea5e9;
  --text: #fafafa;
  --text-muted: #a1a1aa;
  --field: #0f0f16;
}
:root.theme-light {
  --bg: #fafafa;
  --card: #ffffff;
  --line: #e5e7eb;
  --mut: #6b7280;
  --prim: #0ea5e9;
  --text: #0b1220;
  --text-muted: #475569;
  --field: #ffffff;
}

/* ---------- Base ---------- */
html, body { height: 100%; }
body {
  background: var(--bg);
  color: var(--text);
  font-family: system-ui, Segoe UI, Roboto, sans-serif;
}

/* Links */
a { color: #38bdf8; text-decoration: none; }
a:hover { text-decoration: underline; }

/* ---------- Forms (works in iframe shell too) ---------- */
input, select, textarea, button {
  font-family: inherit;
  font-size: 14px;
  border-radius: 0.5rem;
  border: 1px solid var(--line);
  background: var(--field);
  color: var(--text);
  padding: 8px 10px;
}
input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: var(--prim);
  box-shadow: 0 0 0 1px var(--prim);
}
button { cursor: pointer; }
button.primary { background: var(--prim); border-color: transparent; color: #001019; font-weight: 600; }
::placeholder { color: var(--text-muted); opacity: 1; }

/* Autofill (Chrome) */
input:-webkit-autofill {
  -webkit-text-fill-color: var(--text) !important;
  -webkit-box-shadow: 0 0 0 1000px var(--field) inset !important;
}

/* ---------- Tables ---------- */
table { width: 100%; border-collapse: collapse; background: var(--card); border-radius: 14px; overflow: hidden; }
th, td { padding: 12px; border-bottom: 1px solid var(--line); text-align: left; font-size: 14px; color: var(--text); }
tr:last-child td { border-bottom: none; }

/* ---------- iOS-style Switch ---------- */
.switch {
  --h: 22px; --w: 42px; --pad: 3px; --on: var(--prim); --off: color-mix(in srgb, var(--line) 70%, transparent);
  position: relative; display: inline-flex; width: var(--w); height: var(--h);
  align-items: center; border-radius: calc(var(--h) / 2);
  background: var(--off); transition: background .2s ease; cursor: pointer;
  box-shadow: inset 0 0 0 1px var(--line);
}
.switch input { position: absolute; inset: 0; opacity: 0; cursor: pointer; }
.switch .knob {
  position: absolute; left: var(--pad); top: var(--pad);
  width: calc(var(--h) - var(--pad) * 2); height: calc(var(--h) - var(--pad) * 2);
  background: #fff; border-radius: 999px; transition: transform .2s ease, box-shadow .2s ease;
  box-shadow: 0 1px 2px rgba(0,0,0,.5);
}
.switch:has(input:checked) { background: var(--on); box-shadow: inset 0 0 0 1px rgba(255,255,255,.06); }
.switch:has(input:checked) .knob { transform: translateX(calc(var(--w) - var(--h))); }
.switch:has(input:focus-visible) { outline: 2px solid var(--prim); outline-offset: 3px; }
.switch.disabled { opacity: .5; cursor: not-allowed; }

/* ---------- Classic checkboxes/radios (fallback) ---------- */
input[type="checkbox"], input[type="radio"] { accent-color: var(--prim); width: 16px; height: 16px; cursor: pointer; }
label:has(input[type="checkbox"]), label:has(input[type="radio"]) { display: inline-flex; align-items: center; gap: 8px; cursor: pointer; }
/* ---------- Pastel UI system ---------- */

/* radii + shadow */
:root {
  --radius-lg: 18px;
  --radius-xl: 22px;
  --shadow-soft: 0 8px 30px rgba(0,0,0,.08), 0 2px 8px rgba(0,0,0,.06);
  --tile-gap: 16px;
}

/* soft page padding */
.page {
  padding: 16px;
}
@media (min-width: 768px) {
  .page { padding: 24px; }
}

/* top bar */
.topbar {
  display:flex; align-items:center; gap:12px;
  padding: 10px 14px;
  border-bottom: 1px solid var(--line);
  background: var(--card);
  position: sticky; top:0; z-index: 10;
}
.topbar .btn-pill { margin-left: auto; }

/* pill buttons */
.btn-pill {
  border: 1px solid var(--line);
  background: var(--field);
  color: var(--text);
  border-radius: 999px;
  padding: 8px 14px;
  font-weight: 600;
  box-shadow: var(--shadow-soft);
}
.btn-pill.primary {
  background: var(--prim);
  border-color: transparent;
  color: #001019;
}

/* tile grid (cards like your screenshot) */
.tile-grid {
  display: grid;
  gap: var(--tile-gap);
  grid-template-columns: 1fr;
}
@media (min-width: 640px) { .tile-grid { grid-template-columns: 1fr 1fr; } }
@media (min-width: 1024px) { .tile-grid { grid-template-columns: repeat(3, 1fr); } }

/* pastel tiles */
.tile {
  background: var(--card);
  border-radius: var(--radius-xl);
  border: 1px solid var(--line);
  box-shadow: var(--shadow-soft);
  padding: 18px;
}
.tile h3 a { color: inherit; text-decoration: underline; text-underline-offset: 3px; }
.tile p { margin: 6px 0 0; color: var(--text-muted); }

/* pastel backgrounds (auto tinted by --prim) */
.tile.purple { background: #ede9fe; color: #3b0764; }
.tile.blue   { background: #e0f2fe; color: #082f49; }
.tile.green  { background: #dcfce7; color: #052e16; }
.tile.pink   { background: #ffe4e6; color: #500724; }
.tile.orange { background: #ffedd5; color: #451a03; }
.tile.slate  { background: #f1f5f9; color: #0f172a; }

/* when in dark theme -> soft pastel on dark */
:root.theme-dark .tile.purple { background: color-mix(in srgb, #6b21a8 22%, transparent); color: #f5f3ff; }
:root.theme-dark .tile.blue   { background: color-mix(in srgb, #0369a1 22%, transparent); color: #e0f2fe; }
:root.theme-dark .tile.green  { background: color-mix(in srgb, #16a34a 22%, transparent); color: #dcfce7; }
:root.theme-dark .tile.pink   { background: color-mix(in srgb, #be123c 20%, transparent); color: #ffe4e6; }
:root.theme-dark .tile.orange { background: color-mix(in srgb, #ea580c 22%, transparent); color: #ffedd5; }
:root.theme-dark .tile.slate  { background: color-mix(in srgb, #334155 30%, transparent); color: #f8fafc; }

/* KPI row (cards with numbers) */
.kpi-grid { display:grid; grid-template-columns: repeat(2,1fr); gap:12px; }
@media(min-width:768px){ .kpi-grid{ grid-template-columns: repeat(5,1fr); } }
.kpi {
  border-radius: var(--radius-lg);
  background: var(--card);
  border: 1px solid var(--line);
  padding: 12px 14px;
  box-shadow: var(--shadow-soft);
}
.kpi .label { color: var(--text-muted); font-size: 12px; }
.kpi .value { font-weight: 800; font-size: 18px; margin-top: 4px; }

/* cards */
.card {
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-soft);
  padding: 16px;
}

/* safe area padding on mobile bottom bars */
.safe-bottom { padding-bottom: max(16px, env(safe-area-inset-bottom)); }
